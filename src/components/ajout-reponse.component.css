:root{
  --bg:#f6f7fb; --card:#fff; --border:#e6e7ef; --text:#2b2b3c; --muted:#7b7b8a;
  --primary:#5b53e6; --primary-600:#4940d6; --ok:#168a45; --err:#b42318;
}
*{box-sizing:border-box}
.page{max-width:1000px;margin:0 auto;padding:24px 16px;background:var(--bg);min-height:100vh;color:var(--text)}

/* HERO */
.hero{
  display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;
  padding:18px 20px;margin-bottom:14px;
  background:linear-gradient(180deg, rgba(99,91,230,.10), rgba(99,91,230,.04));
  border:1px solid var(--border);border-radius:16px;box-shadow:0 6px 18px rgba(99,91,230,.08);
}
.hero h2{margin:0;font-size:28px;font-weight:800}
.hero__sub{margin:2px 0 0 0;color:var(--muted)}
.hero__left{display:flex;flex-direction:column;gap:4px}

/* Bouton retour premium */
.btn-back{
  display:inline-flex;align-items:center;gap:8px;margin-bottom:6px;
  padding:10px 14px;border-radius:999px;font-weight:700;color:#1f2430;cursor:pointer;
  background:linear-gradient(#fff,#fff) padding-box,linear-gradient(135deg,#c6ccff,#e9e7ff) border-box;
  border:1px solid transparent;box-shadow:0 6px 16px rgba(99,91,230,.12);
  transition:transform .15s,box-shadow .15s,filter .15s;
}
.btn-back .icon{width:18px;height:18px}
.btn-back:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(99,91,230,.18)}
.btn-back:active{transform:translateY(0);filter:brightness(.97)}
.btn-back:focus-visible{outline:none;box-shadow:0 0 0 3px rgba(91,83,230,.25)}

/* Card */
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px}

/* Form grid */
.form-grid{
  display:grid;grid-template-columns:1fr;gap:14px;
}
@media (min-width:900px){
  .form-grid{
    grid-template-columns: 320px 1fr; /* Agent à gauche, Message à droite */
    align-items:start;
  }
}

/* Fields */
.field{position:relative}
.field--invalid .input{border-color:#f2b3b3;box-shadow:0 0 0 3px rgba(255,0,0,.06)}
label{display:block;font-weight:700;margin-bottom:6px}
.muted{color:var(--muted);font-weight:500}

.input{
  width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#fff;
  font:inherit;outline:none;transition:border-color .15s, box-shadow .15s, background .15s;
}
.input:focus{border-color:#c6c8f6;box-shadow:0 0 0 3px rgba(91,83,230,.12)}
.input--textarea{resize:vertical;min-height:220px;background:#fbfbfe}

/* Counter inline (en bas à droite du textarea) */
.counter{
  position:absolute;right:10px;bottom:10px;
  font-size:12px;color:var(--muted);
  background:#fff;border:1px solid var(--border);padding:2px 6px;border-radius:999px;
}

/* Hints & errors */
.hint{color:var(--muted);font-size:12px;margin-top:6px}
.errors{margin-top:6px;color:var(--err);font-size:13px}

/* Actions */
.actions{display:flex;justify-content:flex-end;gap:10px;margin-top:8px}
.btn{
  border:1px solid var(--border);background:#fff;color:#1f2430;
  padding:10px 16px;border-radius:999px;cursor:pointer;font-weight:700;
  display:inline-flex;align-items:center;gap:8px;
  transition:transform .15s, box-shadow .15s, filter .15s;
}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 22px rgba(0,0,0,.08)}
.btn:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}
.btn--ghost{background:#fff}
.btn--primary{
  color:#fff;border-color:transparent;
  background:linear-gradient(135deg,#6366f1,#7c3aed);
  box-shadow:0 10px 26px rgba(99,102,241,.35);
}
.btn--primary:hover{filter:brightness(.98)}

/* Alerts */
.alert{margin-top:12px;padding:10px 12px;border-radius:10px;font-weight:600;border:1px solid transparent}
.alert--ok{background:#ecfdf3;color:#0b5e2d;border-color:#d1fae5}
.alert--error{background:#fde2e4;color:#7f1d1d;border-color:#f8b4b8}

/* Spinner */
.spinner{
  width:18px;height:18px;border-radius:50%;
  border:2px solid #fff;border-top-color:transparent;display:inline-block;animation:spin .8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Small */
@media (max-width:700px){
  .page{padding:16px 12px}
  .hero h2{font-size:22px}
}
